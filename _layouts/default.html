<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>{% if page.title %}
        {{ page.title }}
    {% else %}
        {{ site.name }} - {{ site.description }}
    {%endif%}</title>

    <meta name="description" content="{{ site.meta_description}}" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">


    {{ content }}

    <footer class="site-footer">
        <a class="subscribe icon-feed" href="{{ site.baseurl }}rss.xml"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="{{ site.baseurl }}">{{ site.name }}</a> &copy; {{date | date:"YYYY"}} &bull; All rights reserved.</section>
             <section class="poweredby">Made with Jekyll using <a href="http://github.com/rosario/kasper">Kasper theme</a></section>
        </div>
    </footer>

    <script language="javascript" type="text/x-mathjax-config">
        window.MathJax = {
              jax: ["input/TeX", "output/SVG"],
              extensions: ["tex2jax.js", "MathMenu.js", "MathZoom.js"],
              showMathMenu: false,
              showProcessingMessages: false,
              messageStyle: "none",
              SVG: {
                useGlobalCache: false
              },
              TeX: {
                extensions: ["AMSmath.js", "AMSsymbols.js", "autoload-all.js"]
              },
              AuthorInit: function() {
                MathJax.Hub.Register.StartupHook("End", function() {
                  var mj2img = function(texstring, callback) {
                    var input = texstring;
                    var wrapper = document.createElement("div");
                    wrapper.innerHTML = input;
                    var output = { svg: "", img: ""};
                    MathJax.Hub.Queue(["Typeset", MathJax.Hub, wrapper]);
                    MathJax.Hub.Queue(function() {
                      var mjOut = wrapper.getElementsByTagName("svg")[0];
                      mjOut.setAttribute("xmlns", "http://www.w3.org/2000/svg");
                      // thanks, https://spin.atomicobject.com/2014/01/21/convert-svg-to-png/
                      output.svg = mjOut.outerHTML;
                      var image = new Image();
                      image.src = 'data:image/svg+xml;base64,' + window.btoa(unescape(encodeURIComponent(output.svg)));
                      image.onload = function() {
                        var canvas = document.createElement('canvas');
                        canvas.width = image.width;
                        canvas.height = image.height;
                        var context = canvas.getContext('2d');
                        context.drawImage(image, 0, 0);
                        output.img = canvas.toDataURL('image/png');
                        callback(output);
                      };
                    });
                  }
                  mj2img("\\[f: X \\to Y\\]", function(output){
                    document.getElementById("target").innerText = output.img + '\n' + output.svg;
                  });
                });
              }
            };
    </script>
    <!--
       - <script language="javascript" type="text/x-mathjax-config">
       -     MathJax.Hub.Config({
       -       tex2jax: {
       -           inlineMath: [ ['$','$'], ["\\(","\\)"] ],
       -           displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
       -           processEscapes: true
       -         }
       -     });
       - </script>
       - <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script>
       -->
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js"> </script>
    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-69976993-1', 'auto');
      ga('send', 'pageview', location.pathname);

    </script>

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?b743f0af8bae922b9d3e7dc3ab3df8ed";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

</body>
</html>
